/*
 * üß© –ó–∞–≤–¥–∞–Ω–Ω—è 1: –õ—ñ—á–∏–ª—å–Ω–∏–∫ –∫—Ä–æ–∫—ñ–≤ (–ó–∞–º–∏–∫–∞–Ω–Ω—è)
 */
console.log("--- –ó–∞–≤–¥–∞–Ω–Ω—è 1 ---");

function createStepCounter() {
  // –¶—è –∑–º—ñ–Ω–Ω–∞ 'steps' "–∑–∞–∫—Ä–∏—Ç–∞" –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó.
  // –î–æ—Å—Ç—É–ø –¥–æ –Ω–µ—ó –º–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –ª–∏—à–µ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥–∏, —è–∫—ñ –º–∏ –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ.
  let steps = 0;

  return {
    step: function() {
      steps++;
      console.log(`–ö—Ä–æ–∫! –ü–æ—Ç–æ—á–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å: ${steps}`);
    },
    getSteps: function() {
      return steps;
    }
  };
}

const counter = createStepCounter();
counter.step(); // "–ö—Ä–æ–∫! –ü–æ—Ç–æ—á–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å: 1"
counter.step(); // "–ö—Ä–æ–∫! –ü–æ—Ç–æ—á–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å: 2"
console.log(`–ó–∞–≥–∞–ª–æ–º –∫—Ä–æ–∫—ñ–≤: ${counter.getSteps()}`); // 2
// console.log(counter.steps); // undefined - –Ω–µ –º–æ–∂–Ω–∞ –∑–≤–µ—Ä–Ω—É—Ç–∏—Å—è –Ω–∞–ø—Ä—è–º—É


/*
 * üß© –ó–∞–≤–¥–∞–Ω–Ω—è 2: –ë–∞–Ω–∫—ñ–≤—Å—å–∫–∏–π —Ä–∞—Ö—É–Ω–æ–∫ (–ó–∞–º–∏–∫–∞–Ω–Ω—è)
 */
console.log("\n--- –ó–∞–≤–¥–∞–Ω–Ω—è 2 ---");

function createBankAccount(initialBalance = 0) {
  // 'balance' - –ø—Ä–∏–≤–∞—Ç–Ω–∞ –∑–º—ñ–Ω–Ω–∞, –∑–∞—Ö–∏—â–µ–Ω–∞ –∑–∞–º–∏–∫–∞–Ω–Ω—è–º.
  let balance = initialBalance;

  return {
    deposit: function(amount) {
      if (amount > 0) {
        balance += amount;
        console.log(`–î–µ–ø–æ–∑–∏—Ç: +${amount}. –ù–æ–≤–∏–π –±–∞–ª–∞–Ω—Å: ${balance}`);
      }
    },
    withdraw: function(amount) {
      if (amount > balance) {
        console.log(`–í—ñ–¥–º–æ–≤–∞: –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –∫–æ—à—Ç—ñ–≤. –ë–∞–ª–∞–Ω—Å: ${balance}`);
      } else if (amount > 0) {
        balance -= amount;
        console.log(`–ó–Ω—è—Ç—Ç—è: -${amount}. –ù–æ–≤–∏–π –±–∞–ª–∞–Ω—Å: ${balance}`);
      }
    },
    getBalance: function() {
      return balance;
    }
  };
}

const account = createBankAccount(100);
console.log(`–ü–æ—Ç–æ—á–Ω–∏–π –±–∞–ª–∞–Ω—Å: ${account.getBalance()}`);
account.deposit(50);
account.withdraw(70);
account.withdraw(100); // –í—ñ–¥–º–æ–≤–∞
console.log(`–§—ñ–Ω–∞–ª—å–Ω–∏–π –±–∞–ª–∞–Ω—Å: ${account.getBalance()}`);


/*
 * üß© –ó–∞–≤–¥–∞–Ω–Ω—è 3: –§—É–Ω–∫—Ü—ñ—è –∑–±–µ—Ä—ñ–≥–∞—î —ñ–º‚Äô—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–ó–∞–º–∏–∫–∞–Ω–Ω—è)
 */
console.log("\n--- –ó–∞–≤–¥–∞–Ω–Ω—è 3 ---");

function createGreeter(name) {
  // –§—É–Ω–∫—Ü—ñ—è, —è–∫—É –º–∏ –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ, "–ø–∞–º'—è—Ç–∞—î" –∑–º—ñ–Ω–Ω—É 'name'
  // –∑—ñ —Å–≤–æ–≥–æ –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ –æ—Ç–æ—á–µ–Ω–Ω—è (–¥–µ –≤–æ–Ω–∞ –±—É–ª–∞ —Å—Ç–≤–æ—Ä–µ–Ω–∞).
  return function() {
    console.log(`–ü—Ä–∏–≤—ñ—Ç, ${name}!`);
  };
}

const greetOlya = createGreeter("–û–ª—è");
greetOlya(); // "–ü—Ä–∏–≤—ñ—Ç, –û–ª—è!"

const greetMax = createGreeter("–ú–∞–∫—Å–∏–º");
greetMax(); // "–ü—Ä–∏–≤—ñ—Ç, –ú–∞–∫—Å–∏–º!"


/*
 * üß© –ó–∞–≤–¥–∞–Ω–Ω—è 4: –ó–∞—Ç—Ä–∏–º–∞–Ω–∏–π –ª—ñ—á–∏–ª—å–Ω–∏–∫ (Scope + setTimeout)
 */
console.log("\n--- –ó–∞–≤–¥–∞–Ω–Ω—è 4 ---");

// –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è 'let' —É —Ü–∏–∫–ª—ñ for - —Ü–µ —Å—É—á–∞—Å–Ω–∏–π —Å–ø–æ—Å—ñ–± –≤–∏—Ä—ñ—à–∏—Ç–∏
// —Ü—é "–∫–ª–∞—Å–∏—á–Ω—É" –ø—Ä–æ–±–ª–µ–º—É –∑ setTimeout —É —Ü–∏–∫–ª—ñ.
// 'let' —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤—É –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—ñ –¥–ª—è 'i' –Ω–∞ –∫–æ–∂–Ω—ñ–π —ñ—Ç–µ—Ä–∞—Ü—ñ—ó.

for (let i = 1; i <= 5; i++) {
  // –ú–∏ –ø–µ—Ä–µ–¥–∞—î–º–æ 'i' —É setTimeout.
  // –©–æ–± –≤–æ–Ω–∏ –≤–∏–≤–æ–¥–∏–ª–∏—Å—è –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ (1, 2, 3...), 
  // –º–∏ –º–Ω–æ–∂–∏–º–æ –∑–∞—Ç—Ä–∏–º–∫—É (1000ms) –Ω–∞ 'i'.
  // 1-—à–∞ —ñ—Ç–µ—Ä–∞—Ü—ñ—è: –∑–∞—Ç—Ä–∏–º–∫–∞ 1000 * 1 = 1 —Å–µ–∫—É–Ω–¥–∞
  // 2-–≥–∞ —ñ—Ç–µ—Ä–∞—Ü—ñ—è: –∑–∞—Ç—Ä–∏–º–∫–∞ 1000 * 2 = 2 —Å–µ–∫—É–Ω–¥–∏
  // —ñ —Ç.–¥.
  setTimeout(function() {
    console.log(i);
  }, i * 1000); // 1000 –º—Å = 1 —Å–µ–∫—É–Ω–¥–∞
}

console.log("–ó–∞–ø—É—Å–∫ –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞... (—á–∏—Å–ª–∞ 1-5 –∑'—è–≤–ª—è—Ç—å—Å—è –Ω–∏–∂—á–µ):");